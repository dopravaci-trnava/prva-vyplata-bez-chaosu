<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prvá výplata bez chaosu</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background:#f4f6f8; color:#222; }
    header { background:#1e3a8a; color:white; padding:40px 20px; text-align:center; }
    section { max-width:900px; margin:40px auto; padding:0 20px; }
    h2 { color:#1e3a8a; }
    .box { background:white; padding:20px; border-radius:10px; margin:20px 0; box-shadow:0 4px 10px rgba(0,0,0,0.05); }
    .btn { display:inline-block; background:#1e3a8a; color:white; padding:12px 20px; border-radius:8px; border:none; cursor:pointer; }
    footer { background:#111827; color:#ccc; text-align:center; padding:20px; margin-top:60px; }
    input { padding:8px; width:200px; }
    .result-box { background:#eef2ff; padding:15px; border-radius:8px; margin-top:15px; }
  </style>
</head>
<body>

<header>
  <h1>Prvá výplata bez chaosu</h1>
  <p>Praktická kalkulačka rozpočtu pre život po škole</p>
  <p style="font-size:14px; opacity:0.9;">Stredná priemyselná škola dopravná Trnava – tím <strong>Dopraváci</strong></p>
</header>

<section>
  <div class="box">
    <h2>Prečo tento projekt vznikol?</h2>
    <p>Mnohí mladí ľudia po skončení školy nevedia, ako správne narábať s prvou výplatou. Tento web im jednoduchým a praktickým spôsobom ukáže, ako si rozdeliť peniaze tak, aby neostali pred výplatou na nule.</p>
  </div>

  <div class="box">
    <h2>Kalkulačka rozpočtu</h2>
    <p>Zadaj svoju <strong>čistú mesačnú mzdu</strong>. Kalkulačka ti odporučí rozdelenie výdavkov.</p>

    <label>Čistá mzda (€):</label><br><br>
    <input type="number" id="salary" placeholder="napr. 900" />
    <br><br>

    <!-- Voliteľné: reálne výdavky používateľa -->
    <div style="margin:16px 0 10px 0; padding:12px; background:#f8fafc; border-radius:10px; border:1px solid rgba(0,0,0,0.06);">
      <p style="margin:0 0 10px 0;"><strong>Zadaj aj svoje reálne mesačné výdavky (voliteľné)</strong></p>
      <div style="display:flex; flex-wrap:wrap; gap:10px;">
        <div>
          <label style="font-size:13px;">Bývanie (€)</label><br>
          <input type="number" id="exp_housing" placeholder="napr. 250" />
        </div>
        <div>
          <label style="font-size:13px;">Jedlo (€)</label><br>
          <input type="number" id="exp_food" placeholder="napr. 150" />
        </div>
        <div>
          <label style="font-size:13px;">Doprava (€)</label><br>
          <input type="number" id="exp_transport" placeholder="napr. 40" />
        </div>
        <div>
          <label style="font-size:13px;">Zábava/ostatné (€)</label><br>
          <input type="number" id="exp_fun" placeholder="napr. 120" />
        </div>
      </div>
      <p style="margin:10px 0 0 0; font-size:13px; color:#555;">
        Ak nič nezadáš, zobrazí sa len odporúčané rozdelenie.
        <br><strong>Poznámka:</strong> Rozpočet sa počíta podľa pravidla <strong>30–20–50</strong> (50 % sporenie a investovanie).
      </p>
    </div>

    <button class="btn" onclick="calculate()">Vypočítať rozpočet</button>

    <div id="result"></div>
    <div id="warnings" class="result-box" style="display:none; margin-top:12px;"></div>
  </div>

  <div class="box">
    <h2>Ako to rýchlo pochopiť?</h2>
    <p>Web ti odporúča rozdelenie výplaty podľa pravidla. Nie je to „príkaz“, ale <strong>praktický rámec</strong>, ktorý pomáha neostať pred výplatou na nule.</p>
    <ul>
      <li><strong>Potreby</strong> – bývanie, jedlo, doprava (to, čo musíš zaplatiť)</li>
      <li><strong>Zábava</strong> – voľný čas, oblečenie, ostatné (to, čo chceš, nie musíš)</li>
      <li><strong>Sporenie a investovanie</strong> – budúcnosť + rezerva (tvoj „airbag“, keď sa niečo pokazí)</li>
    </ul>
    <p style="font-size:14px; color:#555;">Tip: Ak si nastavíš trvalý príkaz na sporenie/investovanie hneď po výplate, neminieš ho omylom.</p>
  </div>

  <div class="box">
    <h2>Finančné pravidlo 30–20–50 (a prečo ho používame)</h2>
    <p>Finančné pravidlo <strong>30–20–50</strong> je jednoduchý spôsob, ako si rozdeliť výplatu:</p>
    <ul>
      <li><strong>30 % – potreby</strong> (bývanie, jedlo, doprava)</li>
      <li><strong>20 % – zábava</strong> (zábava, oblečenie, voľný čas)</li>
      <li><strong>50 % – sporenie a investovanie</strong> (rezerva, sporenie, budúcnosť)</li>
    </ul>
    <p>Toto pravidlo slúži ako <strong>praktický základ</strong>. Cieľom nie je „dokonalé percento“, ale mať kontrolu nad peniazmi a budovať rezervu.</p>
    <p style="font-size:14px; color:#555;"><strong>Najdôležitejšie je sporenie a investovanie</strong> – preto má v tomto pravidle až 50 %.</p>
  </div>

  <!-- ✅ NOVÉ: poučka 40–30–20–10 -->
  <div class="box">
    <h2>Ideálne miery rozpočtu 40–30–20–10</h2>
    <p><strong>Poučka:</strong> Ideálne je rozdeliť príjem tak, aby:</p>
    <ul>
      <li><strong>40 %</strong> išlo na bežné výdavky (bývanie, jedlo, doprava)</li>
      <li><strong>maximálne 30 %</strong> na splátky úverov</li>
      <li><strong>aspoň 20 %</strong> na sporenie alebo investovanie do budúcnosti</li>
      <li><strong>10 %</strong> na tvorbu rezervy</li>
    </ul>
    <p style="font-size:14px; color:#555;">Tento model pomáha udržať stabilitu: nezadlžiť sa a zároveň si budovať budúcnosť aj rezervu.</p>
  </div>

  <div class="box">
    <h2>Finančné upozornenia</h2>
    <ul>
      <li>⚠️ Ak minieš viac ako odporúčanú sumu na zábavu, hrozí, že ti peniaze nevydržia celý mesiac.</li>
      <li>⚠️ Ak si netvoríš sporenie/investovanie, nemáš rezervu pri nečakaných výdavkoch.</li>
      <li>⚠️ Pôžičky a splátky znižujú tvoju budúcu výplatu.</li>
    </ul>
    <p style="font-size:14px;">Kalkulačka slúži ako odporúčanie. Každý má inú životnú situáciu a je dôležité rozmýšľať nad vlastnými prioritami.</p>
    <p style="font-size:14px; color:#555;">Tip: Ak máš výplatu, rozdeľ ju hneď v deň pripísania – najprv sporenie/investovanie, potom výdavky.</p>
  </div>

  <div class="box">
    <h2>Čo sa tým naučíš?</h2>
    <ul>
      <li>plánovať výdavky ešte pred minutím peňazí</li>
      <li>vyhnúť sa impulzívnemu míňaniu</li>
      <li>vytvárať si finančnú rezervu</li>
      <li>robiť zodpovedné rozhodnutia s peniazmi</li>
    </ul>
  </div>

  <div class="box">
    <h2>Najčastejšie chyby po prvej výplate</h2>
    <ul>
      <li>❌ Minutie veľkej časti výplaty hneď po jej pripísaní</li>
      <li>❌ Žiadny mesačný plán výdavkov</li>
      <li>❌ Spoliehanie sa na pôžičky a splátky</li>
      <li>❌ Žiadna finančná rezerva</li>
    </ul>
    <p style="font-size:14px; color:#555;">Ak sa týmto chybám vyhneš, máš vysokú šancu zvládnuť mesiac bez stresu.</p>
  </div>
</section>

<footer>
  <p>Projekt vytvorený v rámci súťaže Peňažný štvorboj – 3. kolo TAKTIKA</p>
  <p style="font-size:13px;">SPŠ Dopravná Trnava – tím Dopraváci</p>
</footer>

<script>
function calculate() {
  const parseMoney = (v) => Number(String(v ?? '').replace(',', '.'));

  const salaryRaw = document.getElementById('salary').value;
  const salary = parseMoney(salaryRaw);

  if (!Number.isFinite(salary) || salary <= 0) {
    alert('Zadaj platnú sumu čistej mzdy');
    return;
  }

  // ✅ PRAVIDLO 30–20–50 (50 % sporenie a investovanie)
  const needsPercent = 0.30;   // potreby
  const wantsPercent = 0.20;   // zábava
  const savingsPercent = 0.50; // sporenie a investovanie

  const needs = salary * needsPercent;
  const wants = salary * wantsPercent;
  const savings = salary * savingsPercent;
  const yearlySavings = savings * 12;

  // ✅ IDEÁLNE MIERY 40–30–20–10
  const regularPercent = 0.40; // bežné výdavky
  const loansPercent = 0.30;   // splátky úverov (max)
  const investPercent = 0.20;  // sporenie/investovanie (aspoň)
  const reservePercent = 0.10; // rezerva

  const regular = salary * regularPercent;
  const loansMax = salary * loansPercent;
  const investMin = salary * investPercent;
  const reserve = salary * reservePercent;

  // Voliteľné: reálne výdavky používateľa
  const expHousing = parseMoney(document.getElementById('exp_housing')?.value);
  const expFood = parseMoney(document.getElementById('exp_food')?.value);
  const expTransport = parseMoney(document.getElementById('exp_transport')?.value);
  const expFun = parseMoney(document.getElementById('exp_fun')?.value);

  const hasReal = [expHousing, expFood, expTransport, expFun].some(v => Number.isFinite(v) && v > 0);
  const realNeeds = (Number.isFinite(expHousing) ? expHousing : 0)
    + (Number.isFinite(expFood) ? expFood : 0)
    + (Number.isFinite(expTransport) ? expTransport : 0);
  const realWants = (Number.isFinite(expFun) ? expFun : 0);
  const realTotal = realNeeds + realWants;
  const realSavings = salary - realTotal;

  const diffNeeds = realNeeds - needs;
  const diffWants = realWants - wants;
  const diffNeedsStr = (diffNeeds >= 0 ? `+${diffNeeds.toFixed(2)} €` : `-${Math.abs(diffNeeds).toFixed(2)} €`);
  const diffWantsStr = (diffWants >= 0 ? `+${diffWants.toFixed(2)} €` : `-${Math.abs(diffWants).toFixed(2)} €`);

  const actualBlock = hasReal ? `
    <div class="result-box" style="margin-top:12px;">
      <p style="margin:0 0 8px 0;"><strong>Tvoje reálne mesačné výdavky:</strong></p>
      <ul>
        <li>Bývanie: <strong>${(Number.isFinite(expHousing)?expHousing:0).toFixed(2)} €</strong></li>
        <li>Jedlo: <strong>${(Number.isFinite(expFood)?expFood:0).toFixed(2)} €</strong></li>
        <li>Doprava: <strong>${(Number.isFinite(expTransport)?expTransport:0).toFixed(2)} €</strong></li>
        <li>Zábava/ostatné: <strong>${(Number.isFinite(expFun)?expFun:0).toFixed(2)} €</strong></li>
      </ul>
      <p style="margin:8px 0 0 0;"><strong>Spolu míňaš:</strong> ${realTotal.toFixed(2)} € • <strong>Ostáva na sporenie/investovanie:</strong> <strong>${realSavings.toFixed(2)} €</strong></p>
      <p style="margin:8px 0 0 0; font-size:14px; color:#555;">Porovnanie s odporúčaním (30–20–50): potreby <strong>${diffNeedsStr}</strong>, zábava <strong>${diffWantsStr}</strong>.</p>
      <p style="margin:6px 0 0 0; font-size:13px; color:#6b7280;">Ako to čítať: porovnávame tvoje reálne výdavky (bývanie+jedlo+doprava = potreby, zábava/ostatné = zábava) s odporúčanými sumami z percent.</p>
    </div>
  ` : '';

  // Rezerva (cieľová suma) – rátame z potrieb (30–20–50)
  const reserve3m = needs * 3;
  const reserve6m = needs * 6;

  // Ako rýchlo sa k rezerve dostaneš
  const monthlySave = hasReal ? Math.max(0, realSavings) : savings;
  const monthsTo3m = monthlySave > 0 ? Math.ceil(reserve3m / monthlySave) : null;
  const monthsTo6m = monthlySave > 0 ? Math.ceil(reserve6m / monthlySave) : null;

  const mesiacText = (n) => {
    if (n === 1) return 'mesiac';
    if (n >= 2 && n <= 4) return 'mesiace';
    return 'mesiacov';
  };

  const warn = [];
  warn.push('Pozor na „rýchle peniaze“ a splátky: najprv si spočítaj, koľko ťa to bude stáť za rok.');

  if (hasReal) {
    if (realSavings < 0) {
      warn.unshift(`Míňaš viac, než zarobíš: si v mínuse ${Math.abs(realSavings).toFixed(2)} € mesačne. Skús znížiť „zábava/ostatné“ alebo upraviť výdavky.`);
    } else if (realSavings < savings) {
      warn.unshift(`Podľa tvojich reálnych výdavkov ti ostáva na sporenie/investovanie ${realSavings.toFixed(2)} €, čo je menej než odporúčané ${savings.toFixed(2)} € (30–20–50). Skús znížiť „zábava/ostatné“ alebo nastaviť limit.`);
    }
  }

  document.getElementById('result').innerHTML = `
    ${actualBlock}

    <div class="result-box">
      <p><strong>Odporúčané rozdelenie výplaty (30–20–50):</strong></p>
      <ul>
        <li>Potreby (${Math.round(needsPercent*100)} %): <strong>${needs.toFixed(2)} €</strong></li>
        <li>Zábava (${Math.round(wantsPercent*100)} %): <strong>${wants.toFixed(2)} €</strong></li>
        <li>Sporenie a investovanie (${Math.round(savingsPercent*100)} %): <strong>${savings.toFixed(2)} €</strong></li>
      </ul>
      <p><strong>Ročne by si (podľa tohto pravidla) dal na sporenie/investovanie:</strong> ${yearlySavings.toFixed(2)} €</p>
      <p><strong>Rezerva (orientačne):</strong> 3 mesiace ≈ ${reserve3m.toFixed(2)} € | 6 mesiacov ≈ ${reserve6m.toFixed(2)} €</p>
      <p style="font-size:14px; color:#555;">Rezerva je cieľová suma – počíta sa z potrieb, aby si v krízovej situácii pokryl základné potreby.</p>
      <p style="font-size:14px; color:#555; margin-top:8px;"><strong>Ako rýchlo si ju vieš vytvoriť:</strong> ${monthsTo3m ? `Rezervu na 3 mesiace si našporíš približne za <strong>${monthsTo3m} ${mesiacText(monthsTo3m)}</strong>` : 'ak neodkladáš nič (alebo si v mínuse), rezervu nevytvoríš'}${monthsTo6m ? ` • Rezervu na 6 mesiacov si našporíš približne za <strong>${monthsTo6m} ${mesiacText(monthsTo6m)}</strong>` : ''}.</p>
      <p style="font-size:14px; color:#555;">Výsledky sú orientačné. Ak máš dlhy alebo špecifické výdavky, prispôsob si rozdelenie výdavkov svojej realite.</p>
    </div>

    <div class="result-box">
      <p><strong>Ideálne miery rozpočtu (40–30–20–10):</strong></p>
      <ul>
        <li>Bežné výdavky (${Math.round(regularPercent*100)} %): <strong>${regular.toFixed(2)} €</strong></li>
        <li>Splátky úverov (max ${Math.round(loansPercent*100)} %): <strong>${loansMax.toFixed(2)} €</strong></li>
        <li>Sporenie / investovanie (min ${Math.round(investPercent*100)} %): <strong>${investMin.toFixed(2)} €</strong></li>
        <li>Rezerva (${Math.round(reservePercent*100)} %): <strong>${reserve.toFixed(2)} €</strong></li>
      </ul>
      <p style="font-size:14px; color:#555; margin:8px 0 0 0;">
        V tomto modeli je dôležité: <strong>úvery držať do 30 %</strong> a <strong>sporenie aspoň 20 %</strong>.
      </p>
    </div>
  `;

  const w = document.getElementById('warnings');
  w.style.display = 'block';
  w.innerHTML = `
    <p style="margin:0 0 8px 0;"><strong>Rýchle tipy a varovania:</strong></p>
    <ul style="margin:0; padding-left:18px;">
      ${warn.map(t => `<li>${t}</li>`).join('')}
    </ul>
  `;
}

// --- Mini self-testy (pre vývoj) ---
(function runSelfTests(){
  const approx = (a, b, eps = 1e-9) => Math.abs(a - b) < eps;
  const assert = (cond, msg) => { if (!cond) console.error('TEST FAIL:', msg); };

  // Test: percentá 30-20-50 sa sčítajú na 1
  const sum302050 = 0.30 + 0.20 + 0.50;
  assert(approx(sum302050, 1), `Percentá 30–20–50 sa nesčítajú na 1 (sum=${sum302050})`);

  // Test: percentá 40-30-20-10 sa sčítajú na 1
  const sum40302010 = 0.40 + 0.30 + 0.20 + 0.10;
  assert(approx(sum40302010, 1), `Percentá 40–30–20–10 sa nesčítajú na 1 (sum=${sum40302010})`);

  // Test: mzda 900 (30-20-50) -> 270 / 180 / 450
  const salary = 900;
  const needs = salary * 0.30;
  const wants = salary * 0.20;
  const savings = salary * 0.50;
  assert(approx(needs, 270), 'Needs pre 900 má byť 270');
  assert(approx(wants, 180), 'Wants pre 900 má byť 180');
  assert(approx(savings, 450), 'Savings pre 900 má byť 450');

  // Test: mzda 1000 (40-30-20-10) -> 400 / 300 / 200 / 100
  const salary2 = 1000;
  const regular = salary2 * 0.40;
  const loans = salary2 * 0.30;
  const invest = salary2 * 0.20;
  const reserve = salary2 * 0.10;
  assert(approx(regular, 400), 'Regular pre 1000 má byť 400');
  assert(approx(loans, 300), 'Loans pre 1000 má byť 300');
  assert(approx(invest, 200), 'Invest pre 1000 má byť 200');
  assert(approx(reserve, 100), 'Reserve pre 1000 má byť 100');
})();
</script>

</body>
</html>